<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Stranger Things Store - Loja Oficial</title>
    <link rel="preload" href="logo.png" as="image">
    <link rel="stylesheet" href="styles.css?v=26">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Teko:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <style>
        /* CSS CR√çTICO INLINE - FOR√áAR desde o in√≠cio - SEM BRECHA */
        body:has(.announcement-bar:not(.hidden)),
        body.has-announcement {
            padding-top: 48px !important;
        }

        /* Header SEMPRE abaixo do announcement bar */
        body:has(.announcement-bar:not(.hidden)) .header,
        body.has-announcement .header,
        .announcement-bar:not(.hidden)~.header {
            top: 48px !important;
            z-index: 1003 !important;
        }

        /* Announcement bar SEMPRE no topo */
        .announcement-bar:not(.hidden) {
            position: fixed !important;
            top: 0 !important;
            z-index: 1004 !important;
            height: 48px !important;
        }
    </style>
    <script>
        // FOR√áAR layout correto IMEDIATAMENTE - SEM MARGEM GIGANTE
        (function () {
            function forceFixedLayout() {
                if (!document.body) return;

                const announcementBar = document.querySelector('.announcement-bar');
                const header = document.querySelector('.header');
                const heroBanner = document.querySelector('.hero-banner');

                if (announcementBar && !announcementBar.classList.contains('hidden')) {
                    // FOR√áAR valores fixos - altura do announcement = 48px
                    document.body.style.setProperty('padding-top', '48px', 'important');
                    document.body.classList.add('has-announcement');

                    if (header) {
                        header.style.setProperty('top', '48px', 'important');
                        header.style.setProperty('z-index', '1003', 'important');
                        header.classList.add('has-announcement');
                    }

                    if (announcementBar) {
                        announcementBar.style.setProperty('z-index', '1004', 'important');
                        announcementBar.style.setProperty('top', '0', 'important');
                        announcementBar.style.setProperty('height', '48px', 'important');
                    }

                    // FOR√áAR hero-banner padding fixo
                    if (heroBanner) {
                        heroBanner.style.setProperty('padding-top', '156px', 'important');
                    }
                } else {
                    document.body.style.setProperty('padding-top', '0', 'important');
                    document.body.classList.remove('has-announcement');

                    if (header) {
                        header.style.setProperty('top', '0', 'important');
                        header.style.setProperty('z-index', '1003', 'important');
                        header.classList.remove('has-announcement');
                    }

                    // FOR√áAR hero-banner padding fixo sem announcement
                    if (heroBanner) {
                        heroBanner.style.setProperty('padding-top', '108px', 'important');
                    }
                }
            }

            // Executar IMEDIATAMENTE e repetidamente para garantir
            if (document.body) {
                forceFixedLayout();
            }

            // Aguardar body existir se necess√°rio
            const checkBody = setInterval(function () {
                if (document.body) {
                    clearInterval(checkBody);
                    forceFixedLayout();
                }
            }, 1);

            // For√ßar em todos os eventos poss√≠veis
            ['DOMContentLoaded', 'load', 'DOMFrameContentLoaded'].forEach(function (event) {
                document.addEventListener(event, forceFixedLayout);
            });

            // For√ßar repetidamente por 1 segundo para garantir
            let count = 0;
            const forceInterval = setInterval(function () {
                forceFixedLayout();
                count++;
                if (count >= 10) clearInterval(forceInterval); // Para ap√≥s 1 segundo
            }, 100);
        })();
    </script>
</head>

<body>
    <!-- Page Loader Spinner -->
    <div class="page-loader" id="pageLoader">
        <div class="page-loader-logo-container">
            <img src="logo.png" alt="Stranger Things" class="page-loader-logo-img">
        </div>
        <div class="page-loader-text">CARREGANDO</div>
    </div>

    <!-- Grid Background -->
    <div class="grid-background"></div>

    <!-- Top Announcement Bar -->
    <div class="announcement-bar">
        <div class="container">
            <p>‚ú® <strong>OFERTA ESPECIAL:</strong> 20% OFF em todo o site com c√≥digo <strong>STRANGER20</strong> -
                V√°lido at√© 31/01</p>
            <button class="announcement-close" aria-label="Fechar an√∫ncio">&times;</button>
        </div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-top">
                <div class="logo">
                    <a href="index.html">
                        <img src="logo.png" alt="Stranger Things Store" class="logo-img">
                    </a>
                </div>
                <div class="header-actions">
                    <!-- Search -->
                    <button class="search-toggle" id="searchToggle" aria-label="Buscar">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="2" />
                            <path d="m20 20-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                        </svg>
                    </button>

                    <!-- Cart/Bag -->
                    <div class="cart-icon-wrapper">
                        <button class="cart-icon" id="cartBtn" aria-label="Abrir sacola">
                            <span class="cart-count" id="cartCount">0</span>
                            <svg class="bag-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M6 2L3 6V20C3 20.5304 3.21071 21.0391 3.58579 21.4142C3.96086 21.7893 4.46957 22 5 22H19C19.5304 22 20.0391 21.7893 20.4142 21.4142C20.7893 21.0391 21 20.5304 21 20V6L18 2H6Z"
                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" />
                                <path d="M3 6H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" />
                                <path
                                    d="M16 10C16 11.0609 15.5786 12.0783 14.8284 12.8284C14.0783 13.5786 13.0609 14 12 14C10.9391 14 9.92172 13.5786 9.17157 12.8284C8.42143 12.0783 8 11.0609 8 10"
                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" />
                            </svg>
                        </button>
                    </div>
                    <!-- Mobile Menu Toggle -->
                    <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Menu">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                </div>
            </div>

            <!-- Search Bar -->
            <div class="search-bar" id="searchBar">
                <div class="search-container">
                    <input type="text" id="searchInput" placeholder="Buscar produtos..." class="search-input"
                        autocomplete="off">
                    <button class="search-submit" id="searchSubmit" aria-label="Buscar">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="2" />
                            <path d="m20 20-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                        </svg>
                    </button>
                </div>
                <div class="search-results" id="searchResults" style="display: none;"></div>
            </div>

            <!-- Main Navigation -->
            <nav class="main-nav" id="mainNav">
                <div class="mobile-nav-header">
                    <div class="mobile-nav-logo">
                        <div class="netflix-logo">NETFLIX</div>
                        <div class="stranger-logo">STRANGER THINGS</div>
                        <div class="series-text">THE ORIGINAL SERIES</div>
                    </div>
                    <button class="mobile-nav-close" id="mobileNavClose">&times;</button>
                </div>

                <ul class="nav-list" id="navList">
                    <li class="nav-item has-dropdown">
                        <a href="#" class="nav-link">T√çTULOS</a>
                        <div class="dropdown-menu">
                            <div class="dropdown-section">
                                <h4>Stranger Things</h4>
                                <ul>
                                    <li><a href="#produtos">Todas as Cole√ß√µes</a></li>
                                    <li><a href="#produtos">Season 5</a></li>
                                    <li><a href="#produtos">Hawkins High</a></li>
                                    <li><a href="#produtos">Hellfire Club</a></li>
                                </ul>
                            </div>
                        </div>
                    </li>
                    <li class="nav-item has-dropdown">
                        <a href="#" class="nav-link">PRODUTOS</a>
                        <div class="dropdown-menu">
                            <div class="dropdown-section">
                                <h4>Roupas</h4>
                                <ul>
                                    <li><a href="#produtos">Camisetas</a></li>
                                    <li><a href="#produtos">Moletons</a></li>
                                    <li><a href="#produtos">Casacos</a></li>
                                    <li><a href="#produtos">Roupas Infantis</a></li>
                                </ul>
                            </div>
                            <div class="dropdown-section">
                                <h4>Acess√≥rios</h4>
                                <ul>
                                    <li><a href="#produtos">Mochilas</a></li>
                                    <li><a href="#produtos">Bon√©s</a></li>
                                    <li><a href="#produtos">Joias</a></li>
                                    <li><a href="#produtos">Cases</a></li>
                                </ul>
                            </div>
                            <div class="dropdown-section">
                                <h4>Casa & Escrit√≥rio</h4>
                                <ul>
                                    <li><a href="#produtos">Canecas</a></li>
                                    <li><a href="#produtos">Posters</a></li>
                                    <li><a href="#produtos">Almofadas</a></li>
                                    <li><a href="#produtos">Mantas</a></li>
                                </ul>
                            </div>
                            <div class="dropdown-section">
                                <h4>Colecion√°veis</h4>
                                <ul>
                                    <li><a href="#produtos">Funko Pop!</a></li>
                                    <li><a href="#produtos">Action Figures</a></li>
                                    <li><a href="#produtos">Pel√∫cias</a></li>
                                </ul>
                            </div>
                        </div>
                    </li>
                    <li class="nav-item has-dropdown">
                        <a href="#" class="nav-link">COLE√á√ïES</a>
                        <div class="dropdown-menu">
                            <div class="dropdown-section">
                                <h4>Mais Populares</h4>
                                <ul>
                                    <li><a href="#produtos">Fan Favorites</a></li>
                                    <li><a href="#produtos">Lan√ßamentos</a></li>
                                    <li><a href="#produtos">Cosplay</a></li>
                                </ul>
                            </div>
                            <div class="dropdown-section">
                                <h4>Colabora√ß√µes</h4>
                                <ul>
                                    <li><a href="#produtos">Stranger Things x Nike</a></li>
                                    <li><a href="#produtos">Stranger Things x Butcher Billy</a></li>
                                    <li><a href="#produtos">Stranger Things x Kyle Lambert</a></li>
                                </ul>
                            </div>
                        </div>
                    </li>
                </ul>
            </nav>

            <!-- Mobile Nav Overlay -->
            <div class="mobile-nav-overlay" id="mobileNavOverlay"></div>
        </div>
    </header>

    <!-- Hero Slider -->
    <section class="hero-slider">
        <div class="slider-container">
            <div class="slider-track" id="sliderTrack">
                <div class="slide active"
                    style="background-image: url('https://strangerthings-store.com/assets/img/instafeed_gallery-3.6c5bf6c1.jpg.webp');">
                    <div class="slide-overlay"></div>
                    <div class="slide-content">
                        <h1 class="slide-title">BEM-VINDO AO MUNDO INVERTIDO</h1>
                        <p class="slide-subtitle">Descubra produtos exclusivos de Stranger Things</p>
                        <a href="#collectionsContainer" class="btn btn-primary btn-large">EXPLORAR PRODUTOS</a>
                    </div>
                </div>
                <div class="slide"
                    style="background-image: url('https://strangerthings-store.com/assets/img/instafeed_gallery-6.ed7361a2.jpg.webp');">
                    <div class="slide-overlay"></div>
                    <div class="slide-content">
                        <h1 class="slide-title">COLE√á√ÉO HELLFIRE CLUB</h1>
                        <p class="slide-subtitle">Vista-se como os her√≥is de Hawkins</p>
                        <a href="#collectionsContainer" class="btn btn-primary btn-large">VER COLE√á√ÉO</a>
                    </div>
                </div>
                <div class="slide"
                    style="background-image: url('https://strangerthings-store.com/assets/img/instafeed_gallery-7.abc8c998.jpg.webp');">
                    <div class="slide-overlay"></div>
                    <div class="slide-content">
                        <h1 class="slide-title">STRANGER THINGS SEASON 5</h1>
                        <p class="slide-subtitle">Novidades e produtos exclusivos</p>
                        <a href="#collectionsContainer" class="btn btn-primary btn-large">COMPRAR AGORA</a>
                    </div>
                </div>
                <div class="slide"
                    style="background-image: url('https://strangerthings-store.com/assets/img/instafeed_gallery-4.f98991b7.jpg.webp');">
                    <div class="slide-overlay"></div>
                    <div class="slide-content">
                        <h1 class="slide-title">ESTILO HAWKINS</h1>
                        <p class="slide-subtitle">Moda inspirada nos anos 80</p>
                        <a href="#collectionsContainer" class="btn btn-primary btn-large">DESCOBRIR</a>
                    </div>
                </div>
            </div>

            <!-- Slider Controls -->
            <button class="slider-arrow slider-prev" onclick="previousSlide()">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="15 18 9 12 15 6"></polyline>
                </svg>
            </button>
            <button class="slider-arrow slider-next" onclick="nextSlide()">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="9 18 15 12 9 6"></polyline>
                </svg>
            </button>

            <!-- Slider Dots -->
            <div class="slider-dots" id="sliderDots"></div>
        </div>
    </section>

    <!-- Collections Sections -->
    <div id="collectionsContainer">
        <!-- Content loaded dynamically -->
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <!-- Logo Stranger Things -->
            <div class="footer-logo">
                <img src="https://strangerthings-store.com/assets/img/partners_logo-partners.c8ec02cb.png.webp?v=1767834978"
                    alt="Stranger Things - The Official Store" class="footer-logo-img" style="max-width: 180px !important;">
            </div>

            <!-- Links -->
            <div class="footer-links-menu">
                <a href="#" class="footer-link">CONTATO</a>
                <a href="#" class="footer-link">IMPRENSA</a>
                <a href="#" class="footer-link">INFLUENCIADORES</a>
            </div>

            <!-- Social Icons -->
            <div class="footer-social-icons">
                <a href="#" class="footer-social-icon" aria-label="Facebook">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                        <path
                            d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5l0-170.3-52.8 0 0-78.2 52.8 0 0-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4l0 70.8c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2l0 27.8 83.6 0-14.4 78.2-69.3 0 0 175.9C413.8 494.8 512 386.9 512 256z" />
                    </svg>
                </a>
                <a href="#" class="footer-social-icon" aria-label="Instagram">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                        <path
                            d="M224.3 141a115 115 0 1 0 -.6 230 115 115 0 1 0 .6-230zm-.6 40.4a74.6 74.6 0 1 1 .6 149.2 74.6 74.6 0 1 1 -.6-149.2zm93.4-45.1a26.8 26.8 0 1 1 53.6 0 26.8 26.8 0 1 1 -53.6 0zm129.7 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM399 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z" />
                    </svg>
                </a>
                <a href="#" class="footer-social-icon" aria-label="TikTok">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                        <path
                            d="M448.5 209.9c-44 .1-87-13.6-122.8-39.2l0 178.7c0 33.1-10.1 65.4-29 92.6s-45.6 48-76.6 59.6-64.8 13.5-96.9 5.3-60.9-25.9-82.7-50.8-35.3-56-39-88.9 2.9-66.1 18.6-95.2 40-52.7 69.6-67.7 62.9-20.5 95.7-16l0 89.9c-15-4.7-31.1-4.6-46 .4s-27.9 14.6-37 27.3-14 28.1-13.9 43.9 5.2 31 14.5 43.7 22.4 22.1 37.4 26.9 31.1 4.8 46-.1 28-14.4 37.2-27.1 14.2-28.1 14.2-43.8l0-349.4 88 0c-.1 7.4 .6 14.9 1.9 22.2 3.1 16.3 9.4 31.9 18.7 45.7s21.3 25.6 35.2 34.6c19.9 13.1 43.2 20.1 67 20.1l0 87.4z" />
                    </svg>
                </a>
            </div>

            <!-- Language Selector -->
            <div class="footer-languages">
                <a href="#" class="footer-lang active">EN</a>
                <a href="#" class="footer-lang">ES</a>
                <a href="#" class="footer-lang">FR</a>
                <a href="#" class="footer-lang">IT</a>
                <a href="#" class="footer-lang">PT</a>
            </div>

            <!-- Copyright -->
            <div class="footer-copyright">
                <p>STRANGER THINGS ‚Ñ¢ / ¬© Netflix 2024</p>
            </div>
        </div>
    </footer>

    <!-- Cart Drawer Overlay -->
    <div class="cart-drawer-overlay" id="cartOverlay"></div>

    <!-- Cart Drawer -->
    <div class="cart-drawer" id="cartDrawer">
        <div class="cart-drawer-header">
            <h2>SACOLA</h2>
            <button class="cart-drawer-close" id="closeCart" aria-label="Fechar sacola">&times;</button>
        </div>
        <div class="cart-drawer-body">
            <div id="cartItems"></div>
        </div>
        <div class="cart-drawer-footer">
            <div class="cart-total">
                <span class="cart-total-label">Total:</span>
                <span class="cart-total-value">R$ <span id="cartTotal">0.00</span></span>
            </div>
            <div class="cart-drawer-actions">
                <a href="#produtos" class="btn btn-secondary btn-block" id="continueShopping">CONTINUAR COMPRANDO</a>
                <button class="btn btn-primary btn-block" id="checkoutBtn">FINALIZAR COMPRA</button>
            </div>
        </div>
    </div>

    <!-- Scripts carregados na ordem correta de depend√™ncia -->
    <script src="page-loader.js"></script>
    <script src="product-cart.js?v=4"></script>
    <script src="script.js?v=12"></script>
    <script src="search.js"></script>
    <script src="performance-optimizations.js"></script>
    <script>
        // Fallback manual para garantir que a busca funcione
        window.addEventListener('load', function () {
            console.log('üîç Fallback manual de busca carregado');

            setTimeout(function () {
                const searchToggle = document.getElementById('searchToggle');
                const searchBar = document.getElementById('searchBar');

                if (searchToggle && searchBar) {
                    console.log('üîç Elementos encontrados no fallback');

                    // Remover listeners antigos e adicionar novo
                    const newSearchToggle = searchToggle.cloneNode(true);
                    searchToggle.parentNode.replaceChild(newSearchToggle, searchToggle);

                    newSearchToggle.addEventListener('click', function (e) {
                        console.log('üîç FALLBACK - Lupa clicada!');
                        e.preventDefault();
                        e.stopPropagation();

                        const currentlyActive = searchBar.classList.contains('active');
                        console.log('üîç FALLBACK - Estado atual:', currentlyActive ? 'aberta' : 'fechada');

                        if (currentlyActive) {
                            searchBar.classList.remove('active');
                            searchBar.style.display = 'none';
                            console.log('üîç FALLBACK - Fechando...');
                        } else {
                            searchBar.classList.add('active');
                            searchBar.style.display = 'block';
                            document.getElementById('searchInput')?.focus();
                            console.log('üîç FALLBACK - Abrindo...');
                        }
                    });

                    console.log('‚úÖ FALLBACK instalado com sucesso');
                } else {
                    console.error('‚ùå FALLBACK - Elementos n√£o encontrados:', {
                        searchToggle: !!searchToggle,
                        searchBar: !!searchBar
                    });
                }
            }, 1000);
        });
    </script>
</body>

</html>